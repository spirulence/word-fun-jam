<!DOCTYPE html>
<html lang="en" ng-app>
  <head>
    <meta charset="utf-8">
    <title>Word Fun Jam!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Type faster than the next guy.">

    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/bootswatch.css" rel="stylesheet">

    <script type="text/javascript" src="/js/angular.min.js"></script>
    <script type="text/javascript" src="/js/game.js"></script>

  </head>

  <body class="preview" id="top" data-spy="scroll" data-target=".subnav" data-offset="80">

  <!-- Navbar
    ================================================== -->
 <div class="navbar navbar-fixed-top">
   <div class="navbar-inner">
     <div class="container">
       <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
       </a>
       <a class="brand" href="index.html">Word Fun Jam!</a>
       <div class="nav-collapse collapse" id="main-menu">
        <ul class="nav" id="main-menu-left">
          <li><a href="index.html">Home</a></li>
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Game <b class="caret"></b></a>
            <ul class="dropdown-menu" id="swatch-menu">
              <li><a id="newgame" href="#">New</a></li>
              <li><a id="join" href="/join">Join</a></li>
            </ul>
          </li>
          <li><a href="credits.html">Credits</a></li>
        </ul>
       </div>
     </div>
   </div>
 </div>

<div class="container" ng-controller="JoinCtrl">


<!-- Masthead
================================================== -->
<header class="jumbotron" id="overview">
  <div class="row">
    <div class="span6">
      <h1>Word Fun Jam!</h1>
      <p class="lead">Who types faster?</p>
    </div>
  </div>
</header>



<div id="joingame" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Join Game</h4>
      </div>
      <form id="gameform">
        <div class="modal-body">
          <p>Enter your name:</p>
          <input type="text" id="playername"></input>
          <p>Game ID:</p>
          <input type="text" id="gameid"></input>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary">Start Game</button>
        </div>
      </form>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<h3> - Current Games - </h3>
<table>
  <head>
      <th>Game ID</th>
      <th>Players</th>
      <th>Status</th>
      <th>Score</th>
      <th>Rounds</th>
      <th>Join</th>
  </head>
  <tr ng-repeat="game in games">
    <td>{{game.name}}</td>
    <td><span ng-repeat="player in game.players">{{player.nick}}<br /></span></td>
    <td><span ng-show="game.players.length < 2">Open</span><span ng-show="game.players.length > 1">Full</span></td>
    <td><span ng-repeat="player in game.players">{{player.nick}}: {{player.score}}<br /></span></td>
    <td>{{game.rounds}}</td>
    <td><a ng-show="game.players.length < 2" ng-click="join(game)" href="#">Join</a></td>
  </tr>
</table>

<style>
  table, td, th{
    border: 1px solid white;
    padding: 5px;
  }
</style>


<!-- Footer
================================================== -->
<hr>

<footer id="footer">
  <p class="pull-right"><a href="#top">Back to top</a></p>
  <div class="links">
    <a href="#">Github</a>
    <a href="#">Email</a>
    <a href="#">Facebook</a>
    <a href="#">Donate</a>
  </div>
  Made by <a href="#">Cameron Seebach</a> & <a href="#">Tyrone Warren</a>.  
  Code licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Affero GPL</a>.
</footer>

</div><!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/jquery.smooth-scroll.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/bootswatch.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){
        $('#gameform').submit(function(e){
          e.preventDefault();
          var playername = $('#playername').val();
          var gameid = $('#gameid').val();
          window.location = 'game/' + gameid + '/' + playername;
        });
      });
    </script>
  </body>
</html>
